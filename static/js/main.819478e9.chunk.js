(this["webpackJsonpfull-distortion"]=this["webpackJsonpfull-distortion"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n(4),a=n.n(s),o=n(9),r=n.n(o),h=(n(20),n(21),n(5)),c=n(10),l=n(3),u=n(7),m=n(6),v=n(0),d=n(11),f=n(13),M=n(12),p=n(14),g=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,e)).setupResize=function(){window.addEventListener("resize",i.resize)},i.resize=function(){i.width=i.container.offsetWidth,i.height=i.container.offsetHeight,i.renderer.setSize(i.width,i.height),i.camera.aspect=i.width/i.height,console.log("resize"),i.camera.updateProjectionMatrix(),console.log(i.camera)},i.start=i.start.bind(Object(l.a)(i)),i.stop=i.stop.bind(Object(l.a)(i)),i.animate=i.animate.bind(Object(l.a)(i)),i}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.scene=new v.r,this.renderer=new v.A({antialias:!0}),this.renderer.setClearColor(0,1),this.renderer.setSize(this.width,this.height),this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=v.B,this.container=document.getElementById("scene"),this.width=this.mount.clientWidth,this.height=this.mount.clientHeight,this.mount.appendChild(this.renderer.domElement),this.camera=new v.m(75,this.width/this.height,.1,1e3),this.camera.position.set(0,0,6),this.controls=new d.a(this.camera,this.renderer.domElement),this.composer=new f.a(this.renderer),this.time=0,this.setupResize(),this.addObjects(),this.animate(),this.resize()}},{key:"addObjects",value:function(){this.material=new v.s({extensions:{derivatives:"#extension GL_OES_standard_derivatives : enable"},side:v.d,uniforms:{time:{type:"f",value:0},resolution:{type:"v4",value:new v.y},uvRate1:{value:new v.w(1,1)}},vertexShader:"\n\nuniform float time;\nvarying vec2 vUv;\nvarying vec4 vPosition;\nuniform vec2 pixels;\nvarying vec3 vNormal;\nattribute vec3 position1;\n\nvoid main()\t{\n  \n    vUv = uv;\n    vNormal =normal;\n\n\n\n\n    float u = uv.x *  3.1415925* 4.;\n    float v = uv.y *  3.1415925 * 2.;\n\n    float a = 3.;\n    float n = 2.;\n    float m = 1.;\n\n    float x = (a + cos(n*u / 2.0) * sin(v) - sin(n*u/2.0) * sin(2.*v))*cos(m*u/2.0); \n    float y = (a + cos(n*u / 2.0) * sin(v) - sin(n*u/2.0) * sin(2.*v))*sin(m*u/2.0);\n    float z = sin(n*u/2.0) * sin(v) + cos(n*u/2.0) * sin(2.*v);\n\n    vec3 klein = vec3(x,y,z);\n\n    float u1 = uv.x *  3.1415925;\n    float v1 = uv.y * -3.1415925 * 2.;\n\n    float x1 = sin(u1) * sin(v1);\n    float y1 = sin(u1) * cos(v1);\n    float z1 = cos(u1);\n\n    vec3 sphere = vec3(x1,y1,z1);\n\n    vec3 pos = mix(klein, sphere,0.5 + 0.5 * sin(time/3.));\n\n\n     vec3 final = mix(position, position1, 0.5 + 0.5 * sin(time/3.));\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n\n}\n",fragmentShader:"\n\nuniform float time;\nuniform float progress;\nuniform sampler2D texture1;\nuniform sampler2D texture2;\nuniform vec4 resolution;\nvarying vec2 vUv;\nvarying vec4 vPosition;\nvarying vec3 vNormal;\n\n\nvoid main()\t{\n  \n    float diff = abs(dot(normalize(vec3(1.,1.,1.)),vNormal));\n    \n    vec3 a = vec3(0.5,0.5,0.5);\n    vec3 b = vec3(0.5,0.5,0.5);\n    vec3 c = vec3(2.0,1.0,0.0);\n    vec3 d = vec3(0.50,0.20,0.25);\n    vec3 color = a + b * cos(2. * 3.1415925 * (c * diff+d + time /5. ));\n\n\n\n    \n    gl_FragColor = vec4(color,1.);\n\n}\n"}),this.renderPass=new M.a(this.scene,this.camera),this.composer.addPass(this.renderPass),this.glitchPass=new p.a,this.composer.addPass(this.glitchPass),this.geometry=new v.l(this.torFunction,100,100),this.geometry1=new v.l(this.graykleinFunction,100,100),this.geometry.setAttribute("position1",new v.a(this.geometry1.attributes.position.array,3)),this.plane=new v.j(this.geometry,this.material),this.scene.add(this.plane)}},{key:"sphereFunction",value:function(e,t,n){e*=Math.PI,t*=2*-Math.PI;var i=Math.sin(e)*Math.sin(t),s=Math.sin(e)*Math.cos(t),a=Math.cos(e);n.set(i,s,a)}},{key:"torFunction",value:function(e,t,n){e*=2*Math.PI,t*=2*Math.PI,t-=-Math.PI;var i=Math.cos(t)+Math.sin(e)*Math.cos(t),s=Math.sin(t)+Math.sin(e)*Math.sin(t),a=Math.cos(e);n.set(i,s,a)}},{key:"kleinFunction",value:function(e,t,n){e*=2*Math.PI-Math.PI,t*=2*Math.PI;var i=Math.cos(e)*(1+Math.sin(t)*Math.cos(e/2)-Math.sin(2*t)*Math.sin(e/2)/2),s=Math.sin(e)*(1+Math.sin(t)*Math.cos(e/2)-Math.sin(2*t)*Math.sin(e/2)/2),a=Math.sin(e/2)*Math.sin(t)+Math.cos(e/2)*Math.sin(2*t)/2;n.set(i,s,a)}},{key:"graykleinFunction",value:function(e,t,n){e*=4*Math.PI,t*=2*Math.PI;var i=(3+Math.cos(2*e/2)*Math.sin(t)-Math.sin(2*e/2)*Math.sin(2*t))*Math.cos(1*e/2),s=(3+Math.cos(2*e/2)*Math.sin(t)-Math.sin(2*e/2)*Math.sin(2*t))*Math.sin(1*e/2),a=Math.sin(2*e/2)*Math.sin(t)+Math.cos(2*e/2)*Math.sin(2*t);n.set(i,s,a)}},{key:"planeFunction",value:function(e,t,n){var i=e,s=t;n.set(i,s,0)}},{key:"componentWillUnmount",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:"start",value:function(){this.frameId||(this.frameId=requestAnimationFrame(this.animate))}},{key:"stop",value:function(){cancelAnimationFrame(this.frameId)}},{key:"animate",value:function(){this.time+=.05,this.material.uniforms.time.value=this.time,this.frameId=requestAnimationFrame(this.animate),this.composer.render(),this.renderScene()}},{key:"renderScene",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var e=this;return Object(i.jsx)("div",{id:"scene",ref:function(t){e.mount=t}})}}]),n}(s.Component);var y=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"frame",children:[Object(i.jsx)("h1",{className:"frame__title",children:"Shape Morphing Demo"}),Object(i.jsx)("div",{className:"frame__links"}),Object(i.jsxs)("div",{className:"frame__nav",children:[Object(i.jsx)("a",{className:"frame__link",href:"https://isengupt.github.io/noise-morph/",children:"Previous"}),Object(i.jsx)("a",{className:"frame__link",href:"#",children:"Resume"}),Object(i.jsx)("a",{className:"frame__link",href:"https://github.com/isengupt/morph-shape/",children:"GitHub"})]})]}),Object(i.jsx)(g,{})]})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),s(e),a(e),o(e)}))};r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(y,{})}),document.getElementById("root")),b()}},[[22,1,2]]]);
//# sourceMappingURL=main.819478e9.chunk.js.map